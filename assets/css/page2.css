*{
    margin: 0;
    /* width: 700px; */
    /* background-color: black; */
}

/* =============== page3.css (full replace) =============== */

/* 基本トークン */
:root{
  --page-width: 640px;           /* 中央本文幅：背景を左右に見せる */
  --ink: #e9eef6;                /* 本文色（眩しすぎない白） */
  --muted: #c7d4e4;
  --panel: rgba(8, 10, 14, 0.42);     /* 本文ボックスの半透明 “ガラス”（少し明るめに） */
  --panel-strong: rgba(20, 24, 30, 0.58);
  --accent: #f62125;             /* 見出し色 */
}

/* リセット */
*{ box-sizing:border-box; margin:0; }
html, body{ 
  height:100%; 
  overscroll-behavior: none;
}
body{
  color:var(--ink);
  font-family:"Noto Serif JP", serif;
  line-height:1.9;
  background:transparent;        /* ← 背景画像を隠さない */
  overflow-y:auto;
}

/* ===== フルスクリーン背景 ===== */
.bg{
  position:fixed;
  inset:0;
  z-index:0;
  background:url("../img/不気味な祭り画像.png") center/cover no-repeat fixed;

  /* ▶ 明るさを上げ、黒つぶれを回避。彩度も少し足す。 */
  filter:brightness(1.18) contrast(1.02) saturate(1.15);
  will-change:filter;
}

/* 色味の乗算はかなり弱くして背景が見えるように */
.bg::before{
  content:""; position:absolute; inset:0; pointer-events:none;
  background:
    radial-gradient(90% 65% at 50% 18%, rgba(255,120,120,.10), transparent 60%),
    linear-gradient(180deg, rgba(255,120,120,.06), transparent 55%);
  mix-blend-mode:screen;          /* ほんのり提灯の赤みを足す */
  opacity:.7;
}

/* ビネットも弱めにして中央の暗さを緩和 */
.bg::after{
  content:""; position:absolute; inset:0; pointer-events:none;
  background:
    radial-gradient(130% 95% at 50% 6%, rgba(0,0,0,0) 62%, rgba(0,0,0,.12) 100%);
  mix-blend-mode:multiply;
}

/* ===== ページ本体 ===== */
.page{
  position:relative;
  z-index:1;                     /* 背景より前面に */
  width:min(100%, var(--page-width));
  margin:0 auto;
  padding:24px 18px 112px;
}

/* タイトル */
.title h1{
  margin:0 0 12px;
  letter-spacing:.18em;
  color:var(--accent);
  text-shadow:0 0 6px rgba(246,33,37,.18), 0 0 14px rgba(246,33,37,.10);
  position:relative;
}
.title h1::after{
  content:""; display:block; width:72px; height:2px; margin:8px 0 0;
  background:linear-gradient(90deg, rgba(246,33,37,0), rgba(246,33,37,.45), rgba(246,33,37,0));
  filter:blur(.2px);
}

/* 本文ボックス：背景が見えるのに読める */
.story{
  position:relative;
  padding:16px 14px;
  background:var(--panel);
  border:1px solid rgba(255,255,255,0.06);
  border-radius:12px;

  /* ぼかしをやや強めにして可読性UP（でも背景は透ける） */
  backdrop-filter:blur(4px) saturate(1.05);
  -webkit-backdrop-filter:blur(4px) saturate(1.05);

  box-shadow:0 10px 26px rgba(0,0,0,0.30);
}
.story p + p{ margin-top:1em; }
.story p{ color:var(--ink); text-shadow:0 1px 0 rgba(0,0,0,.25); }
.story code{ color:var(--muted); }

/* ===== 貼り付き選択肢 ===== */
.choices{
  position:sticky;
  bottom:12px;
  margin-top:16px;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
  background:transparent;
}
.choice{
  padding:14px 16px;
  border-radius:12px;
  border:1px solid rgba(255,255,255, 0.10);
  background:var(--panel-strong);
  color:var(--ink);
  cursor:pointer;
  font-size:1rem;
  letter-spacing:.08em;
  transition:transform .08s ease, box-shadow .15s ease, background .2s ease;
}
.choice:hover{
  transform: translateY(-2px);
  box-shadow:
    0 4px 16px rgba(255,160,160,.35),
    0 10px 48px rgba(255,140,140,.28),
    0 18px 80px rgba(255,120,120,.22);
  background: linear-gradient(180deg, rgba(30, 34, 42, .76), rgba(18, 22, 28, .76));
}
.choice{
  position: relative;
  overflow: hidden;
  background: linear-gradient(180deg, rgba(22, 26, 32, .76), rgba(14, 18, 24, .76));
}
.choice::after{
  content:"";
  position:absolute; inset:-20%;
  background: radial-gradient(ellipse at 50% 120%,
              rgba(255,160,160,.24) 0%, rgba(255,160,160,0) 60%);
  opacity:.85; pointer-events:none;
}

/* モバイル：背景を更に明るくして見やすく */
@media (max-width:480px){
  :root{ --page-width: 92vw; }
  .page{ padding:18px 12px 110px; }
  .choices{ gap:8px; }
  .choice{ padding:12px; font-size:.95rem; }
  .story{ background:rgba(8, 10, 14, .48); backdrop-filter:blur(5px) saturate(1.05); }
  .bg{ filter:brightness(1.28) contrast(1.04) saturate(1.18); }
}

/* アクセシビリティ（コントラスト強） */
@media (prefers-contrast: more){
  .bg{ filter:brightness(1.10) contrast(1.10) saturate(1.1); }
  .story{
    background:rgba(8, 10, 14, .56);
    backdrop-filter:blur(5px) saturate(1.1);
  }
}

.story strong { font-weight: 900; font-size: large;}